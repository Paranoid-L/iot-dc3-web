(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24f78bda"],{4122:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-card",[a("el-tabs",{on:{"tab-click":t.changeActive},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("el-tab-pane",{attrs:{label:"模板详情",name:"detail"}},[a("detail-card",[a("ul",[a("li",[a("i",{staticClass:"el-icon-data-line"}),t._v(" 模板名称: "+t._s(t.data.name))]),a("li",[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" 包含位号 ["+t._s(t.listPointData.length||0)+" 个]: "+t._s(t.pointName()))]),a("li",[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" 关联设备 ["+t._s(t.listDeviceData.length||0)+" 个]: "+t._s(t.deviceName()))]),a("li",[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 修改日期: "+t._s(t.timestamp(t.data.createTime)))]),a("li",[a("i",{staticClass:"el-icon-sunset"}),t._v(" 创建日期: "+t._s(t.timestamp(t.data.updateTime)))])])])],1),a("el-tab-pane",{attrs:{label:"包含位号",name:"point"}},[a("el-row",t._l(t.listPointData,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("point-card",{attrs:{data:e,profileTable:t.profileTable,embedded:!0}})],1)})),1)],1),a("el-tab-pane",{attrs:{label:"关联设备",name:"device"}},[a("el-row",t._l(t.listDeviceData,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("device-card",{attrs:{data:e,driverTable:t.driverTable,profileTable:t.profileTable,statusTable:t.statusTable,embedded:!0}})],1)})),1)],1)],1)],1)],1)},i=[],r=a("5530"),c=(a("a15b"),a("d81d"),a("b0c0"),a("a712")),u=a("af18"),o=a("3a79"),l=a("7b66"),d=a("0e0b"),s=a("7f87"),f=a("8bd7"),p=a("aa98"),b=a("e56e"),v={components:{baseCard:c["a"],detailCard:u["a"],deviceCard:o["a"],pointCard:l["a"]},data:function(){return{id:this.$route.query.id,active:this.$route.query.active,driverTable:{},profileTable:{},statusTable:{},data:{},listDeviceData:[],listPointData:[]}},created:function(){this.profile(),this.device(),this.point(),this.drivers(),this.profiles()},methods:{profile:function(){var t=this;Object(s["c"])(this.id).then((function(e){t.data=e.data}))},device:function(){var t=this;Object(p["d"])(this.id).then((function(e){t.listDeviceData=e.data})),Object(p["i"])(this.id).then((function(e){t.statusTable=e.data})).catch((function(){}))},point:function(){var t=this;Object(f["d"])(this.id).then((function(e){t.listPointData=e.data})).catch((function(){}))},drivers:function(){var t=this;Object(b["b"])().then((function(e){t.driverTable=e.data.reduce((function(t,e){return t[e.value]=e.label,t}),{})})).catch((function(){}))},profiles:function(){var t=this;Object(b["d"])().then((function(e){t.profileTable=e.data.reduce((function(t,e){return t[e.value]=e.label,t}),{})})).catch((function(){}))},deviceName:function(){return this.listDeviceData.map((function(t){return t.name})).join(", ")},pointName:function(){return this.listPointData.map((function(t){return t.name})).join(", ")},changeActive:function(t){var e=this.$route.query;this.$router.push({query:Object(r["a"])(Object(r["a"])({},e),{},{active:t.name})})},copyId:function(t){Object(d["c"])(t,!0,"模板ID")},timestamp:function(t){return Object(d["a"])(new Date(t))}}},m=v,h=(a("4a67"),a("2877")),j=Object(h["a"])(m,n,i,!1,null,null,null);e["default"]=j.exports},4263:function(t,e,a){"use strict";a("b12e")},"4a67":function(t,e,a){"use strict";a("8b63")},"7f87":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return o})),a.d(e,"e",(function(){return l}));var n=a("9179"),i=function(t){return Object(n["a"])({url:"api/v3/manager/profile/add",method:"post",data:t})},r=function(t){return Object(n["a"])({url:"api/v3/manager/profile/delete/"+t,method:"post"})},c=function(t){return Object(n["a"])({url:"api/v3/manager/profile/update",method:"post",data:t})},u=function(t){return Object(n["a"])({url:"api/v3/manager/profile/id/"+t,method:"get"})},o=function(t){return Object(n["a"])({url:"api/v3/manager/profile/device_id/"+t,method:"get"})},l=function(t){return Object(n["a"])({url:"api/v3/manager/profile/list",method:"post",data:t})}},"8b63":function(t,e,a){},"8bd7":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"h",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"f",(function(){return o})),a.d(e,"g",(function(){return l})),a.d(e,"d",(function(){return d})),a.d(e,"b",(function(){return s})),a.d(e,"i",(function(){return f})),a.d(e,"j",(function(){return p}));var n=a("9179"),i=function(t){return Object(n["a"])({url:"api/v3/manager/point/add",method:"post",data:t})},r=function(t){return Object(n["a"])({url:"api/v3/manager/point/delete/"+t,method:"post"})},c=function(t){return Object(n["a"])({url:"api/v3/manager/point/update",method:"post",data:t})},u=function(t){return Object(n["a"])({url:"api/v3/manager/point/id/"+t,method:"get"})},o=function(t){return Object(n["a"])({url:"api/v3/manager/point/list",method:"post",data:t})},l=function(t){return Object(n["a"])({url:"api/v3/manager/point/unit",method:"post",data:t})},d=function(t){return Object(n["a"])({url:"api/v3/manager/point/profile_id/"+t,method:"get"})},s=function(t){return Object(n["a"])({url:"api/v3/manager/point/device_id/"+t,method:"get"})},f=function(t,e){return Object(n["a"])({url:"api/v3/data/point_value/latest/device_id/"+t,method:"get",params:{history:e}})},p=function(t){return Object(n["a"])({url:"api/v3/data/point_value/list",method:"post",data:t})}},af18:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-card"},[a("el-card",{attrs:{shadow:"hover"}},[t._t("default")],2)],1)},i=[],r={name:"detail-card"},c=r,u=(a("4263"),a("2877")),o=Object(u["a"])(c,n,i,!1,null,null,null);e["a"]=o.exports},b12e:function(t,e,a){}}]);