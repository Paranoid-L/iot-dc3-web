(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29b4d06a"],{5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"656b":function(t,e,a){"use strict";a("a508")},"686e":function(t,e,a){"use strict";a("fd96")},a508:function(t,e,a){},c333:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blank-card"},[a("el-card",{attrs:{shadow:"hover"}},[t._t("default")],2)],1)},n=[],s={name:"blank-card"},i=s,o=(a("656b"),a("2877")),c=Object(o["a"])(i,r,n,!1,null,null,null);e["a"]=c.exports},da26:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i}));var r=a("9179"),n=function(t){return Object(r["a"])({url:"api/v3/manager/driver/id/"+t,method:"get"})},s=function(t){return Object(r["a"])({url:"api/v3/manager/driver/list",method:"post",data:t})},i=function(t){return Object(r["a"])({url:"api/v3/manager/status/driver",method:"post",data:t})}},dbb4:function(t,e,a){var r=a("23e7"),n=a("83ab"),s=a("56ef"),i=a("fc6a"),o=a("06cf"),c=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,r=i(t),n=o.f,l=s(r),u={},d=0;while(l.length>d)a=n(r,e=l[d++]),void 0!==a&&c(u,e,a);return u}})},e439:function(t,e,a){var r=a("23e7"),n=a("d039"),s=a("fc6a"),i=a("06cf").f,o=a("83ab"),c=n((function(){i(1)})),l=!o||c;r({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return i(s(t),e)}})},ecad:function(t,e,a){"use strict";a("f6af")},f6af:function(t,e,a){},fa3a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("driver-tool",{attrs:{page:t.page},on:{search:t.search,reset:t.reset,refresh:t.refresh,sort:t.sort,"size-change":t.sizeChange,"current-change":t.currentChange}})],1),a("blank-card",[a("el-row",t._l(t.listData,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("driver-card",{attrs:{data:e,statusTable:t.statusTable}})],1)})),1)],1)],1)},n=[],s=a("5530"),i=a("c333"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tool-card"},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"tool-card-content"},[a("div",{staticClass:"tool-card-content-search"},[a("el-form",{ref:"formData",attrs:{inline:!0,model:t.formData,rules:t.formRule,size:"small"}},[a("div",{staticClass:"tool-card-content-search-form"},[a("el-form-item",{attrs:{label:"驱动名称",prop:"name"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入驱动名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"服务名称",prop:"serviceName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入服务名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formData.serviceName,callback:function(e){t.$set(t.formData,"serviceName",e)},expression:"formData.serviceName"}})],1),a("el-form-item",{attrs:{label:"主机",prop:"host"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入主机"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formData.host,callback:function(e){t.$set(t.formData,"host",e)},expression:"formData.host"}})],1),a("el-form-item",{attrs:{label:"端口",prop:"port"}},[a("el-input",{staticClass:"search-form-small",attrs:{clearable:"",autocomplete:"off",placeholder:"请输入端口"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",t._n(e))},expression:"formData.port"}})],1),a("el-form-item",{attrs:{label:"使能",prop:"enable"}},[a("el-select",{staticClass:"search-form-small",attrs:{clearable:"",placeholder:"请选择使能"},model:{value:t.formData.enable,callback:function(e){t.$set(t.formData,"enable",e)},expression:"formData.enable"}},[a("el-option",{attrs:{label:"启用",value:!0}}),a("el-option",{attrs:{label:"停用",value:!1}})],1)],1)],1),a("el-form-item",{staticClass:"tool-card-content-search-button"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"tool-card-content-operation"},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus",disabled:""}},[t._v("新增")]),a("div",{staticClass:"tool-card-content-operation-page"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, sizes","page-sizes":[12,24,36,48],"page-size":+t.page.size,"current-page":+t.page.current,total:+t.page.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刷新",placement:"top"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-refresh",circle:""},on:{click:t.refresh}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"排序",placement:"top"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-sort",circle:""},on:{click:t.sort}})],1)],1)],1)])])],1)},c=[],l={name:"driver-tool",props:{page:{type:Object,default:function(){return{}}}},data:function(){return{formData:{},formRule:{port:[{type:"number",message:"端口必须为数字值"}]}}},methods:{search:function(){var t=this;this.$refs["formData"].validate((function(e){e&&t.$emit("search",t.formData)}))},reset:function(){this.$refs["formData"].resetFields(),this.$emit("reset")},refresh:function(){this.$emit("refresh")},sort:function(){this.$emit("sort")},sizeChange:function(t){this.$emit("size-change",t)},currentChange:function(t){this.$emit("current-change",t)}}},u=l,d=(a("ecad"),a("2877")),p=Object(d["a"])(u,o,c,!1,null,null,null),f=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"things-card"},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"things-card-content"},[a("div",{staticClass:"things-card__header",class:{"header-enable":t.data.enable,"header-disable":!t.data.enable}},[a("div",{staticClass:"things-card-header-icon"},[a("img",{attrs:{src:t.icon,alt:t.data.name}})]),a("div",{staticClass:"things-card-header-name nowrap-name",on:{click:function(e){return t.copyId(t.data.id)}}},[t._v(t._s(t.data.name))]),a("div",{staticClass:"things-card-header-status",attrs:{title:"状态"}},["ONLINE"===t.status(t.data.id)?a("el-tag",{attrs:{type:"success",effect:"plain"}},[t._v("在线")]):"MAINTAIN"===t.status(t.data.id)?a("el-tag",{attrs:{type:"warning",effect:"plain"}},[t._v("维护")]):"FAULT"===t.status(t.data.id)?a("el-tag",{attrs:{type:"danger",effect:"plain"}},[t._v("故障")]):"DISABLE"===t.status(t.data.id)?a("el-tag",{attrs:{type:"info",effect:"plain"}},[t._v("停用")]):"UNREGISTERED"===t.status(t.data.id)?a("el-tag",{attrs:{type:"info",effect:"plain"}},[t._v("未注册")]):a("el-tag",{attrs:{type:"info",effect:"plain"}},[t._v("离线")])],1)]),a("div",{staticClass:"things-card__body"},[a("div",{staticClass:"things-card-body-content"},[a("ul",[a("li",{staticClass:"nowrap-item"},[a("span",[a("i",{staticClass:"el-icon-connection"}),t._v(" 端口: ")]),t._v(t._s(t.data.port))]),a("li",{staticClass:"nowrap-item"},[a("span",[a("i",{staticClass:"el-icon-monitor"}),t._v(" 主机: ")]),t._v(t._s(t.data.host))]),a("li",{staticClass:"nowrap-item"},[a("span",[a("i",{staticClass:"el-icon-s-promotion"}),t._v(" 驱动服务: ")]),t._v(t._s(t.data.serviceName))]),a("li",{staticClass:"nowrap-item"},[a("span",[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 修改日期: ")]),t._v(t._s(t.timestamp(t.data.updateTime)))]),a("li",{staticClass:"nowrap-item"},[a("span",[a("i",{staticClass:"el-icon-sunset"}),t._v(" 创建日期: ")]),t._v(t._s(t.timestamp(t.data.createTime)))])])]),a("div",{staticClass:"things-card-body-content",attrs:{title:"驱动描述信息"}},[a("p",{staticClass:"nowrap-description"},[t._v(t._s(t.data.description?t.data.description:"无描述信息"))])])]),a("div",{staticClass:"things-card__footer"},[a("div",{staticClass:"things-card-footer-operation"},[a("el-popconfirm",{attrs:{title:"是否确定停用该驱动？",placement:"top",icon:"el-icon-remove-outline"}},[a("el-button",{staticClass:"operation-tooltip",attrs:{slot:"reference",type:"text",disabled:""},slot:"reference"},[t._v("停用")])],1),a("el-popconfirm",{attrs:{title:"是否确定启用该驱动？",placement:"top",icon:"el-icon-remove-outline"}},[a("el-button",{staticClass:"operation-tooltip",attrs:{slot:"reference",type:"text",disabled:""},slot:"reference"},[t._v("启用")])],1),a("el-popconfirm",{attrs:{title:"是否确定删除该驱动？",placement:"top",icon:"el-icon-remove-outline"}},[a("el-button",{staticClass:"operation-tooltip",attrs:{slot:"reference",type:"text",disabled:""},slot:"reference"},[t._v("删除")])],1),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.detail(t.data.id)}}},[t._v("详情")])],1)])])])],1)},h=[],b=a("0e0b"),v={name:"driver-card",props:{data:{type:Object,default:function(){return{name:"",serviceName:"",host:"",port:"",enable:"",description:"",createTime:"",updateTime:""}}},statusTable:{type:Object,default:function(){return{}}},icon:{type:String,default:"images/common/driver.png"}},methods:{status:function(t){return this.statusTable[t]},detail:function(t){this.$router.push({name:"driverDetail",query:{id:t,active:"detail"}})},copyId:function(t){Object(b["c"])(t,!0,"驱动ID")},timestamp:function(t){return Object(b["a"])(new Date(t))}}},g=v,y=(a("686e"),Object(d["a"])(g,m,h,!1,null,null,null)),_=y.exports,C=a("da26"),O={components:{blankCard:i["a"],driverTool:f,driverCard:_},data:function(){return{statusTable:{},listData:[],query:{type:"driver"},order:!1,page:{total:0,size:12,current:1}}},created:function(){this.list()},methods:{list:function(){var t=this;Object(C["b"])(Object(s["a"])({page:this.page},this.query)).then((function(e){var a=e.data;t.page.total=a.total,t.listData=a.records})).catch((function(){})),Object(C["c"])(Object(s["a"])({page:this.page},this.query)).then((function(e){t.statusTable=e.data})).catch((function(){}))},search:function(t){this.query=Object(s["a"])(Object(s["a"])({},t),{},{type:"driver"}),this.list()},reset:function(){this.query={type:"driver"},this.list()},refresh:function(){this.list()},sort:function(){this.order=!this.order,this.order?this.page.orders=[{column:"create_time",asc:!0}]:this.page.orders=[{column:"create_time",asc:!1}],this.list()},sizeChange:function(t){this.page.size=t,this.list()},currentChange:function(t){this.page.current=t,this.list()}}},k=O,D=Object(d["a"])(k,r,n,!1,null,null,null);e["default"]=D.exports},fd96:function(t,e,a){}}]);